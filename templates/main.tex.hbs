\documentclass{article}

\usepackage{xhfill}
\usepackage[hidelinks]{hyperref}
\usepackage{fontawesome}
\usepackage[T1]{fontenc}
\usepackage[margin=4em]{geometry}
\usepackage{etoolbox}

\usepackage[
	maxnames=100,
	{{!-- giveninits=true, --}}
	sorting=ynt,
	style=authortitle
]{biblatex}
\addbibresource{publications.bib}
\setlength\bibitemsep{1.2\itemsep}

\pagestyle{empty}
\usepackage{parskip}

\usepackage[explicit]{titlesec}

\titleformat{\section}
	{\Large \scshape}
	{}
	{0em}  % number-header spacing 
	{#1 \ \xrfill[.2em]{.5pt}}

\titleformat{\subsection}[runin]
	{}
	{}
	{0em}  % number-header spacing 
	{#1}

\titlespacing{\section}
	{-1em}  % leading
	{.8em}  % before
	{.4em}  % after

\titlespacing{\subsection}
	{0em}  % leading
	{.2em}  % before
	{1pt}  % after

\usepackage{enumitem}
\setlist{
	rightmargin=1.5em,
	topsep=-.2em,
	itemsep=-.3em,
}

%  -- TITLE --

\makeatletter
\renewcommand{\maketitle}{
\setlength{\leftskip}{-1em}

{\huge \scshape \@author}

\vspace{-.5em}
\rule{.4 \textwidth}{0.5pt}

{
{\it \phone}
\ | \
{\it \email}
\ | \
\href{http://\website}{\it \website}
}

\setlength{\leftskip}{0em}
}
\makeatother


\author{ {{~about.name~}} }
\def\phone{ {{~about.phone~}} }
\def\email{ {{~about.email~}} }
\def\github{ {{~about.github~}} }
\def\website{ {{~about.website~}} }

\begin{document}

\raggedright
\maketitle

{{#each sections}}
	\section{ {{~this.title~}} }
	\label{ {{~this.key~}} }

	{{{this.summary}}}

	{{#each this.items}}
		\def\empty{}

		\def\title{%
			{{{this.title}}}%
		}

		\def\subtitle{%
			{{{this.subtitle}}}%
		}

		\def\notes{%
			{{{this.notes}}}%
		}

		\def\paren{%
			{{{this.paren}}}%
		}

		
		\def\dates{%
			{{{this.dates}}}%
		}

		{{#if this.github}}
			\def\paren{%
				\href{https://github.com/\github/{{this.github~}} }
				     {\hspace{2pt}\faicon{github} \github/{{this.github~}}\hspace{2pt}}%
			}
		{{/if}}


		
		{{#if this.title}}
			\subsection{%
				\ifdefempty{\title}{}{\textbf{\title}}%
				\ifdefempty{\subtitle}{}{, \textit{\subtitle}}%
			}
			\ifdefempty{\notes}{}{: \notes}%
			\ifdefempty{\paren}{}{\quad (\textit{\paren})}%
			\ifdefempty{\dates}{}{\hfill \textit{\dates}}%
		{{/if}}

		{{#if this.citations}}
			\begin{refsection} 
				\nocite{%
					{{#each this.citations}}{{~this~}},{{/each}}%
				}
				\printbibliography[heading=none]
			\end{refsection} 
		{{/if}}

		{{#if this.bullets}}
			\begin{itemize}[
				label={\bfseries-},
				leftmargin=1.5em,
			]
			{{#each this.bullets}}
				\item {{{this}}}
			{{/each}}
			\end{itemize}
		{{/if}}

	{{/each }}
{{/each }}

\end{document}
